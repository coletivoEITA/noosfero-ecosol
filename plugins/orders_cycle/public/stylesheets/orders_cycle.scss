@import 'base';
@import 'orders-variables';

@import 'sortable-table';
@import 'balloon';
@import 'calendrial';

.cycle-view {

  #cycle-others,
  #cycle-header {
    padding-bottom: 10px;
    margin-bottom: 10px;
    margin-left: -2px;
    padding-right: 2px;
  }
  #cycle-header {
    border-bottom: 2px solid #ddd;
    margin-bottom: 0;
    .subtitle,
    #cycle-dates {
      width: 520px;

      th {
        border-bottom: 0;
      }
    }
    .subtitle {
      display: block;
      margin-top: 20px;
      font-style: italic;
    }
  }

  #cycle-products-for-order {
    width: $module06 + $intercolumn;
    float: left;
    padding-left: 0;

    .title {
      @extend .box-align;
    }

    .balloon {

      .content {
        width: $module03;
        max-height: 10*$height;
      }
    }

    #filter {
      margin-left: -$sortable-table-negative-area;

      .title, .filter-box, .submit {
        padding-left: $sortable-table-negative-area + $padding !important;
      }

      .filter-box {
        padding-left: $padding;

        &.fields {

          .supplier {
            padding-left: 0;
          }
          .name {
            padding-right: 0;
          }
        }
      }
    }

    #cycle-products {

      .table-header, .table-content {
        margin-left: -$sortable-table-negative-area;
      }
      .table-header {
        padding-left: $sortable-table-negative-area;
      }

      .box-field {
        &.category {
          width: $module01;
        }
        &.supplier {
          width: $module02;
        }
        &.product {
          width: $module02;
        }
        &.price-with-unit {
          width: $module01;
        }
      }

      .value-row {
        border: none;

        &.in-order {

          .box-view {
            background-color: $sortable-table-bg-yellow;
          }

        }
      }
    }
  }

  #order-column {
    float: left;
    width: $order-products-width;
    margin-left: 3*$intercolumn;
    padding: 0;

    > h3 {
      padding: 0 8px;
    }
    > h3 a {
      text-transform: lowercase;
      float: right;
      color: #000000;
      border: 2px solid #000000;
      margin-bottom: 10px;
      margin-right: -7px;
      padding: 5px;
      border-radius: 3px;
      -webkit-border-radius: 3px;
      -moz-border-radius: 3px;
      background-color: #FFE546;
    }

    .consumer-order,
    #order-page .in-order {
      background-color: $sortable-table-bg-yellow;
    }
    .consumer-order {
      margin-bottom: 10px;
      width: $order-products-width;

      &.sticky {
        position: fixed;
        top: 0;
        margin: 0;
        margin-top: 40px; //top bar margin, move style to theme
      }
    }

    #order-admin-warning {
      background-color: #FECBCA;
    }

    #order-admin-warning {
      margin-bottom: 10px;
    }

    .order-message {
      padding: 8px;
    }

    .order-message-text {
      font-size: 10px;
      font-style: italic;
    }
    .order-message-actions {
      margin-top: 10px;
      font-size: 10px;
    }

    .order-message-actions a {
      font-weight: bold;
    }

    #close-order,
    #desist-order {
      margin-top: 30px;
      margin-bottom: 8px;
    }

    #delivery-box {
      border-top: 2px solid black;
      width: auto;
      padding: 8px;
    }
    #delivery-box h3 {
      margin-top: 0;
    }
    #delivery-box select {
      text-size: 10px;
    }
    #delivery-box div {
      margin-bottom: 10px;
    }
    #delivery-box input[type=submit] {
      min-width: 160px;
    }

    .quantity-entry input {
      width: 76px;
    }
  }
}

#cycle-admin-page {
  @import 'field';

  #cycle-header-warning {
    @extend .box-align;
    background-color: #FECBCA;
    padding: 8px;

    #cycle-header-warning-wrap {
      width: 70%;

    }
  }

  #cycle-products-header {
    div {
      width: 400px;
    }
    a {
      line-height: 30px;
    }
  }

  #cycle-product-line .field {
    width: 120px;
  }

  #cycle-products {
    margin-top: 40px;

    .cycle-products-table {
      @extend .box-align;
      margin-top: 30px;
    }
    .value-row.edit .price,
    .value-row.edit .quantity-available,
    .value-row.edit .actions {
      visibility: hidden;
    }

    .box-edit .field {
      float: left;
      clear: none;
      margin-right: 40px;
      width: 120px;
    }

    .box-view .box-field {
    }
    .box-field.category {
      width: 80px;
    }
    .box-field.supplier {
      width: 110px;
    }
    .box-field.name {
      width: 190px;
    }
    .box-field.price {
      width: 150px;
    }
    .box-field.quantity-available {
      width: 80px;
    }
    .quantity-available input {
      width: 60px;
    }
    .box-edit input[type=text] {
      width: 120px;
    }
  }
}

#cycle-closed-listing {
  padding-left: 0;
}

#cycle-new-mail-send {
  margin-bottom: 0;
}

#cycle-new-mail label {
  font-weight: bold;
}

#cycle-new-mail .mail-message {
  margin-top: 10px;
}


#cycle-dates th {
  width: 80px;
  vertical-align: top;
  border-bottom: 0;

  .cycle-list-item {
    @extend .box-align;
    border-top: 1px dotted #ccc;
    padding: 8px;
  }
  .cycle-list-item:last-child {
    border-bottom: 1px dotted #ccc;
  }
  .cycle-name-and-code {
    font-weight: bold;
  }

  .cycle-timeline {
    @extend .box-align;
    border: none;
    font-size: 10px;
    margin-left: 0;
    margin-bottom: 0;

    .actions-bar {
      display: none;
    }
    .cycle-timeline-item {
      padding: 1px 10px;
    }
    .cycle-timeline-citem {
      display: none;
    }
    .cycle-timeline-selected-item {
      text-decoration: underline;
    }
  }

  .cycle-date {
    float: left;
    width: 270px;
    font-size: 10px;
    line-height: 23px;
  }

}

.cycle-timeline {
  border: 1px solid #FEC64D;
  margin-bottom: 20px;
  padding-left: 0;

  .cycle-timeline-item {
    float: left;
    padding: 8px 10px;
  }
  .cycle-timeline-citem {
    display: none;
  }
  .cycle-timeline-selected-item {
    color: black;
    text-decoration: none;
    font-weight: bold;
  }
  .cycle-timeline-passed-item,
  .cycle-timeline-current-item {
    background: url(/plugins/orders_cycle/images/progressbar.png) left top no-repeat;
  }
  .cycle-timeline-current-item {
    background-position: 103% 0;
  }
  .cycle-timeline .actions-bar a {
    font-weight: bold;
  }
}

.cycle-product-line *[disabled] {
  background-color: transparent;
}


#cycles-gadget {
  margin-bottom: 30px;

  #all-cycles {
    float: right;
  }
  h2 {
    color: #036475;
  }

  td {
    padding-right: 8px;
    vertical-align: top;
  }
  td.first-column {
    width: 300px;
  }
  td.second-column {
    width: 400px;
  }
  td.third-column {
    vertical-align: bottom;
  }
  td.third-column form {
    float: right;
    clear: both;
  }
  .cycle .happening {
    @extend .alignment;
    background-color: #ffe546;
    line-height: 20px;
    text-transform: uppercase;
    padding: 0 8px;
  }
  .cycle .info {
    @extend .alignment;
    background: #DDF2C5;
    padding: 8px;
    padding-right: 0;
  }
}

#cycle_opening_message {
  margin-bottom: $intercolumn;
  width: 420px;
}

#cycle-fields input {
  margin-right: 7px;
}
.cycle-field-name input {
  width: 195px;
}
.cycle-fields-block {
  margin: 10px 0;
}
.cycle-field-description textarea {
  width: 412px;
  height: 100px;
}

.action-orders_cycle_plugin_cycle-new .cycle-edit-link,
.action-orders_cycle_plugin_cycle-edit .cycle-edit-link {
  height: 44px;
  display: block;
}

#cycle-delivery-options {
  clear: both;
}
#cycle-delivery label {
  font-weight: bold;
}

.cycle-new {
  margin-bottom: 29px;
  display: block;
}

.cycle-delivery-option {
  float: left;
  display: inline-block;
  padding: 2px 5px;
  margin-right: 10px;
  background-color: #E5E0EC;
  border-radius: 4px;
  -moz-border-radius: 4px;
  -webkit-border-radius: 4px;
  -o-border-radius: 4px;
}
.cycle-add-delivery-option {
  float: left;
  padding: 2px 0;
}

.action-orders_cycle_plugin_cycle-new #colorbox, .action-orders_cycle_plugin_cycle-edit #colorbox {
  top: 80%;
}

#consumers-coop-plugin-add-delivery {
  
  select {
    height: 130px;
    padding: 0;
    width: 280px;
  }

  .field {
    float: left;

    #delivery-menu {
      float: left;
      line-height: 20px;
      margin-left: 10px;
      margin-top: 26px;

      a {
        display: block;
      }
    }
  }
}

#delivery-method-choose {
  height: 235px;

  #delivery-menu a {
    text-transform: capitalize;
  }
}

.delivery-method-as-option {
}

.cycle-delete-delivery-option {
  font-weight: bold;
}

#delivery-option-new-method {
  background-color: #E5E0EC;
  display: none;
}
.new-delivery-method {

  label {
    width: 100px;
    text-align: right;
  }
  input {
    text-align: left;
  }
}

// disable find-enterprise for now
.consumers-coop #supplier-add {

  #create-dummy {
    display: block;
    .box-edit {
      display: block;
    }
  }
  #find-enterprise {
    display: none
  }

}
